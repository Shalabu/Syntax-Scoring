package main;

import parser.IncompleteParser;
import parser.SyntaxParser;

public class Main {
    private static final String PUZZLE_INPUT = "{{(([<((({<(<<[][]>({}[])>[(<>[])(<>{})])<<[<><>][<>()]><([]{}){<>()}>>>}){<[[{<[]()>}{((){})[<\n" +
            "((<(<{{<({<<{[{}()]}(((){}){[]()})><[[()()]<(){}>]{<[][]>{[]<>}}>>}){(<<<<<>{}>>[([]())]>[<{{}()}[()]>{[{}\n" +
            "[{[<(<(<{<{[((()[])[<>{}])][((()<>)[<><>])]}>([<{<{}{}>[{}<>]}[[[]<>]<()<>>>>{[(<>())(()[]\n" +
            "(<{(<{<{<<<[[{[]{}}<()[]>]({[]<>}<(){}>)]>[{<[()()]<()<>>>({[]<>}<()[]>)}]>({[{(()){{}()}}\n" +
            "{[<(<[[(([{{{([]{})[{}{}]}{([][])([]<>))}<<<()()>(()[])><[[]<>]{{}<>}>>}[<<({}())[<>[]]><[{}{}](<>\n" +
            "<[(<{[<{([({<(()[])>([{}[]]{()()})}[[[[][]]((){})]{{{}{}}<()<>>}])[{{[{}[]]{[][]}}}{({[]()}(()<>))[<{}()\n" +
            "[((<[(((({<{[([]<>)({})]<[[][]](()())>}([{[]}([]())](<{}>))><<[[<><>]<()()>]<<()[]>[<>{}]>>>}))(\n" +
            "[{[(<<<<{<<<[{<><>}{(){}>](([]()))><([<>[]]{()()})[[<>[]]{()[]}]>>([[{()[]}{{}<>}]{<[]<>>{[]()}}]\n" +
            "{[[[<([[{[[({{()<>}<()<>>}{(()<>)<<><>>})<[{(){}}(()<>)]{{<><>}<{}()>}>][([(()())[{}()]]<<<><>>\n" +
            "[[[[{{<{<[<[{{[]{}){()()}}]{([(){}]<[]<>>){[{}()]}}>[{{<[][]>(()<>)}}{{<[]<>>{<>()}}([[][]][{}[]])}]]>}[[\n" +
            "{{<({[([([<{{{[]()}(<>[])}({[]<>}({}<>))}{<<<>()>({}<>)>[[{}<>](<>())]}>][{<[[(){}](()<>)]\n" +
            "[{([<<<[[({[<[<>[]]>{(()<>)([]())}]}]]{<<<<[[]][{}]><<[]()>{<>()}>><<(<><>)(()<>)>([{}<>]{{}()})>>>{{\n" +
            "<<[<(({{[(<{{((){})([]<>)}({{}<>})}>[[<<{}<>><()<>>>(<()()>[[]()])]([[{}{}]{[]<>}])]){<{(<()[]>{<>()})<([]<>\n" +
            "([({({[{{<(<([<><>]{{}[]})<{<>}({}())>><<{[]{}}<()>>{{<>()}({}{})}))>[[{{{<>()}{(){}}}{{<>[]}\n" +
            "<({[[<[<{[<([[<>{}]<()[]>){{[]()}[<><>]}){<<()<>>{{}<>}><[{}{}]{{}[]}>}><[<<<><>><[]<>>>{{()()}<[]<>>}]\n" +
            "[[{<([{(<[{{([<><>])[[{}()][()()]]}(({<><>}{{}{}})((<>())[{}[]])>}<(<[()()]>)<<<[]{}>[[]()]>[\n" +
            "{[{((<({<{({{{[][]}{[]{}}}<{(){}}<[][]>>}{<<[]>[[]()]><[[][]]<(){}>>})(<[({}[])(()[])]<([]())\n" +
            "<[{<{<<[[[([<[[]{}]{[]<>}>(({}{})((){}))]{((<>[])<<>[]>)<{()[]}<<>()>}})<<[[[]()][{}{}]]{({}<>)<<>{}>}\n" +
            "{<{[[(<(({<({<{}()>({}{})}[{[]()}{<>()}))[<[[]<>](<>())>]>}){([{([{}<>]{()<>})((<>{})<()>)\n" +
            "{[(([{{[({{[(([][])[()()]){{<>{}}}]({<<>()><<>()]}(<[][]>(<>[])))}<[([[]()]{(){}}){(<>{})[[]()]}]>}[{<[[<>{\n" +
            "(([(<(<<{(([(<()><[]{}>){(<><>)[{}[]]}][([[]{}])(<[]()>[{}<>])]))[({<{[]()}>{{[]()}<()[]>}}[{\n" +
            "{(<<<[[[<[<<<[<>[]]<[][]>><{<>{}}(<>)>>[{[()<>][{}[]]}{{<><>}<[]{}>}]>([[{[]()}][[()<>]([]())]]\n" +
            "<(({{{<[{[([{{()()}[{}()]}<{(){}}[<>[]]>])[((({}[])<[][]>){[{}[]][{}<>]}){[<[]()>[<>{}]]([{}()]((){}))}]]<<{(\n" +
            "<{{{(<[[<({{([<><>]){<[]<>><<>()>}}[[(()<>)<[]<>>]{([]())[(){}]}]})({([(()<>)[[]()}][{(){}}{<><>}])(((()()\n" +
            "<{<[{<[{{({{<[()<>]<[][]>>}}{<<<<>>({}{})>[<[]<>>]>((<{}<>>{<><>})[{[]}[{}()]>)})}}]>[(<(<<<{([]{})({}<>)}(\n" +
            "(<[[{[{[[{[[{<[]<>>(<>())}{[<>{}><(){}>}]<[<<>[]><[]()>]{[[][]]<{}{}>}>]{{{<<>()>{<>()}}}<<\n" +
            "(<<{{[({({[[[({}()){(){}}]]{<{<>}<()<>>>(<{}()>[[][]])}]{{{{<><>}(<>)}{{(){}}[()()]}})}){(<<[([][])<[]{}>\n" +
            "<({[<<{<<{{([<{}{}>{()[]}](<()<>><{}{}>))[{{{}<>}}<<<>[]>[{}{}]>]}[({<[]()>}{{{}[]}})]}>[<[<\n" +
            "<{[(({{[(<[(({{}<>})((()<>)))(<{()()}[[]()]>)]><({{({}{})[<>]}([{}<>]{()[]})})>)(<(<<((){})[()<>]>{([]\n" +
            "({<((<<(({([[[[]()]{{}<>}}([<>()]{{}[]})]<([<>{}]{<><>})>)[[{<[]<>>((){})}{([]())<{}<>>}][[<<>\n" +
            "({{{[<{(<[({({[]()}{<>[]}){(()[])({}{})}])(<[(()<>)]>({<()>{{}{}}}<(()[])[()[]]>))]{{[(((){}){{}{}})\n" +
            "{{{<{<{[((<{[<(){}><{}<>>]}>)}]}({{<((<<<>{}>>{<[]()>({}())})(<([])<[]{}>>{(<>())([][])})){<\n" +
            "<{({{(<[[<({((<>{})[()()])(<()()>[<><>])})(<[{[]{}}<{}{}>]({[]{}}{[]<>})>(<[{}[]]{<>()}><{{}[]}((){})>))\n" +
            "[(<[[(<([[({[{<>()}{[]<>}](<<>{}>[[]{}])}[{[{}<>]{()[]}}<<{}()>{<>()}>])[((<()<>>{[][]})<(<>()\n" +
            "[{[<{{[({[(({[{}[]]<{}<>>}{([]<>)<[]{}>})[{[[]()]{[]()}}<[{}()]{<><>}>])([{{{}<>}{<><>}}({{}()}{<>[]}\n" +
            "<[[<[((({([[({<>()}{<>[]})]{{<(){}>[()[]]}{<[][]>[(){}]}}])}{{((<<{}[]>([]{})><([]{})[<>()]>)){\n" +
            "({<{<<(<{([(<[{}{}][{}[]]>)([([]()){<>[]}]<{()()}<()<>>>)])[<[[{{}{}}][{{}[]}{{}{}}]]{[<[][]><<>()>]<[{}()]{\n" +
            "(({<<{<([{{{[<()<>>([][])]{(<>())<<>()>}}<[<<><>>]{<()[]>}>}{[{[{}{}][()()]}{<{}{}>{{}<>}}]{[{[\n" +
            "{[{[<{(<{(<({((){}){<>[]}}([()<>]<{}<>>)){(<()[]><<>>)(<()<>><{}[]>)}>([(([]())[()[]])]<[<{}{}><()[])][\n" +
            "({[{({((<<<(<<<>>>{{{}[]}<<><>>})>[([([]<>){{}[]}>{{()()}({}{})})[{({}{})(<>[])}]]>[(<({[][]})<[<>[]]\n" +
            "[[{{<<(<[([{({()<>}[{}()])({<>()}<<>()>)}])][{([<<<>()>{[]{}}>]([[{}<>][<>[]]]({<><>}{()[]})))([[({})<\n" +
            "[<{<({[<{[[[<<(){}>>{[()()](<>[])}]][(({[]{}}{()[]})){<{()<>}[[]{}]>({()()}(<>{}))}]]{<[<{[]{}}>](<[[]{}]{{}[\n" +
            "<<[[<((<<[([([()[]]{[][]})({{}{}}{<>()})]<[{<><>}[<>()]]{[[]{}](()<>)}>)<<{<()<>>{[]()}}{{[]{}}[[]{\n" +
            "{[[([([[{<[[[<()[]><{}>]{({}[])(<>{})}]<<(<>[]){[]<>}>[(<>{})(()<>)]>]({((()()){[]<>})[<[]{}><{}()>]}{{(()[\n" +
            "[{{{([<(<(({{<()[]>{()()}}[<<>()>{{}()}]}<<([]<>)[<>()]>(<()<>>{<><>})>)({[{[][]}{[][]}]<<<>\n" +
            "<(<(((<([{{(<{<>[]}[()[]]>[<{}{}><<>()>]){({<>}([]<>))<{{}<>}[()<>]>}}}(<([[[]<>]]((()<>){<><>})>[<{<>[]}[<>\n" +
            "<<[<[[<(([({[{()()}<()[]]][{{}[]}<<>[]>]}[[[()<>]]([{}()]([]))])]{([[<[][]>[{}{}]]<({}{}){[][]}>])[<[[[][]](\n" +
            "[({<{{{([[(({[<>[]]}{<<>()>[(){}]})[<[<>()][{}]>{(()())}]){{[{<>{}}]{[{}](()())}}{[[<>()][<><>]]}}]](<<[{{{\n" +
            "{({{[[({<([{[<<>[]>]<<{}[]><[][]>>}({(()<>)<<><>>}[[{}<>][[][]]])]<[<{()}{<><>}>]({{[]<>}[{}()]}<({}(\n" +
            "(<<<{(({[[(<<<<><>>{<><>}><<{}[]><[]>>>(<({}()){[]{}}>[{<><>}([]{})]))<<([{}()][[]{}))[<<>>[[]()]]>\n" +
            "(<<({{<({<{<[[<><>]]<<<><>>[[]<>]>>(<{{}()}[()]><<(){}>(()<>)>)}[[<[[]()]<<><>>>[({}()){()[]}]][<[<>{}](()[\n" +
            "([[({[[{([[{<([]{}){{}()}>{(<>[])}}[(([]{}){()()})]][<<([]{})([]())>>[((()<>))<(()<>)[[]<>]>\n" +
            "([({{({{<{((<<()[]><<><>>><{{}[]>[<>[]]>)<({()<>}[<>{}])[{()[]}[[][]]]>)<([<()()>({}{})](<[]()>))<[[[]()]<(\n" +
            "<<<<[(<({<[<[(()()){<>()}]<[<><>]{[]{}}>>]>([[{<()>{[][]}}](<[()[]]<<><>>>([<>()]<{}[]>))]{<{{<\n" +
            "[[<{<([<(({{<<{}<>>>{<<>[]>(<>[])}}})[{[{<<>{}>(()[]]}]}])>][{(<<({[[][]]{{}<>}}<({}{})({}\n" +
            "([<([<((<<<<({<><>}[<>[]]){{()()}(<>{})}><[({}<>)[()()]])>[<<[()]<<>[]>>>]>[([{{<><>}{{}{}}}([[]()]\n" +
            "(<<<((<[(<({[{[]<>}[{}{}]]<(<>())[()<>]}})>)[{({[<()<>><{}{}>][[[]<>](<>[])]}[([()()](()[]))<({}{})(<>\n" +
            "<(<[(({[(([<[[()<>]{<>{}}]((()[]){[]{}})><<({})(<>)}[[[]()][<>{}]]>]<{[<()><()()>]<<{}{}>[{}()]>}>\n" +
            "<<[<{<<(({<<((<>{})[[]{}])[{()()}{[]<>}]>{((<>()))[{<>[]}]}>({<<[][]>(()())><<[]<>>{[]{}}>}<({()()}<{}\n" +
            "<{{<([{[{<([([[]()]<[]>){[()[]][(){}]}]<[{{}()}[{}[]]]>)({[<{}<>>]((<>[])<{}{}>)>{({{}{}}({}<>)){{{\n" +
            "{[{{(<[[(<[(((<>[])[()[]])([()()]<()<>>)){[{[][]}[<>{}]]}]><{<((()<>)(<><>))<<()<>>(()())>>{[<[]()>]{((){})<\n" +
            "(((<<<[<<<<[(([]{})[[]()]){[(){}]}][{<<>()>{{}<>})<(<><>)([][])>]><{<[{}<>]{()[]}><<<><>>(\n" +
            "[<([<(([([(<<[[]<>]>{<<>()><(){}>}>{{{<><>}]<{<>[]}{<><>}>}){[{[{}{}][[]()]}]<([{}()][()()]){([][])[()<>]}>}\n" +
            "[[(<[([<[{(<[<{}()><{}[]>][({}[]){()<>}]>[{[[][]]<[]()>}<{()<>}(()[])>])[[{({}{})<()>}([{}<>][{}])]]}({({{[\n" +
            "[<{{<{[[[<([<{[]{}}{[]{}}>{{{}()}([]{})}]]{[{<()()>[<>[]]}[[<>()][<>()]]]([<[]<>>(()[])]{({\n" +
            "<(<(<({[{((([<[]<>>])<[({}{})(<><>)][[<>{}]<()[]>]>))}<{{<(([]<>){{}{}})>}<<({{}{}}({}())){[(){}]{<><>}}><(\n" +
            "((<{<[<{([[[([[][]]{{}())){<{}{}><<>()>}]][[(([][])[()<>])]]])[<({((()<>){[]{}})[<{}><()[]>]\n" +
            "[[{<[{((([<[(<()<>>){((){})(()())}]{[[{}{}][[]]]}>]((<{{<>[]}<<><>>}[[<><>]<{}[]}]>){[[[()]\n" +
            "{[<<<[(<{[[[<{<><>}(<>{})><[[]{}]<()<>>>]{{[()[]]<[]<>)}[<()<>>(<><>)]}]]}>([[{({([]<>)}<[()<>]{(\n" +
            "<<[<([[<{([(<([]{})[{}[]]><<()()>{()()}>)({[{}()]<<>()>}({[]}({}<>)))]){({<[<>[]]{<>()}>}){{{{()<>\n" +
            "[([(<[[{[{[[<<{}()><{}<>>>(<()[]><()>)]][<{[(){}]{()()}}(<<><>>[[]{}])>]}](<<<(<{}[]><()()>)<{{}\n" +
            "{[({([[<<[[[([(){}](()<>))]][(({{}()}([]))[{[]()}{[]{}}])<<({}<>)>(<[][]><(){}>)>]](<((<[]{\n" +
            "(<(([(<<[([({{()<>}([][])}<([]{})>)<{<<>{}>}[<[][]><<>()>]>][(({()[]}[()[]]){{{}{}}{<>()}})[(({}[])<[]>)({()}\n" +
            "{[<<{<((<{[({{[]}{()}}[[()()]{[]<>}])<<[()<>][()<>]>({<>()}<()[]])>](<{<()<>><()>}[[()()]]>)}<{[<[[][\n" +
            "<[<{<{([({[<{({})[[]<>]}[(()<>)<<>()>]>[[{<>()}[()()]]<[{}{}]<<><>>>]]<{[{()[]}]{(<>{})([]<>)}}({[[]<>]<{}{\n" +
            "{{<[{{<[[<{{{{<>()}{(){}}}(<[]>)}}[[<{[][]}{<>{}}>[(<>{})(<><>)]]([{()[]}((){})][{(){}><()[]>])]>]{([(\n" +
            "{([({([<({{[[<{}{}>{<>{}}}([[]()]{(){}})](<{{}[]}[<>[]]>[{()()}(<>)])}[([<<><>>{[]()}]((<>()){()<>}))[<[<>[\n" +
            "<({[({<<<[[{<<{}[]>{[]<>}><({}())(()[])}}([[{}[]][<>()]][<{}<>>])]]>>>}{([[(([[<<><>><<>()>]]{{({}[])\n" +
            "[([[(<{[[<{(([[]<>])[{()()}[[]()]])}[<<<<>[]><()[]>>><[(<><>)[{}{}]]<[<>{}]<()[]>>>]>{(<<([][])[<>]>{(<>{})[\n" +
            "{[(<{(([<[{({({}{}){()()}}<[<><>]<{}()>>){(({}[]]{{}<>}){([]{})}}}<[[({}<>)]{[[][]]<()<>>}][[[[]{}]{[]()}]]>\n" +
            "[<(({[{{[{<(((<>{})<<><>>)<{[][]}>){(<[]()>{<>{}})[(<>[])[()<>]]}>[<(({}<>)[<>[]])[{<>[]}(()<>)]>({<[]<>>}[\n" +
            "(<({<({([({[{{{}{}}(()<>)}<{<>()}(<>[])>][[{[][]}{<>{}}]{{()[]}{()<>}}]}{<({[]{}}<()<>>)>({({}())[{}()\n" +
            "{{[<[{{<<[(<<<<>()>>([<>{}])>)([<{[]()}{[]{}}>][[(<>[]){[]{}}][<<>[]><()()>]]>][<<[{[]}({}())]{[<>{}]([\n" +
            "<<<<{({[[[[[{<()<>>{{}<>}}{{[]{}}((){})}]{[{(){}}[[]{}]]{<<>()>(()())}}]<(<[()<>]{()}>[[[]<>](<>[])])(((\n" +
            "{<[([<{<<<<{((<>{})<()()>){([]())[()[]]}}>><<<(<[]()>(<><>)){<<>[]><[][]>}>[[<()<>>(()<>)]\n" +
            "[<(<([{{<<{<<({}())><<{}<>><{}<>>>>}{([[[][]]({}{})])}>><([[[{[][]}{<>()}]][([[][]][()[]])<<{}\n" +
            "({(({(<{([{<[(()())<{}<>>]>[<(<>())[<>[]]><([]<>)[()<>]>]}][{(({<><>}([]())))}]>}[[{<{<[()()][<>{}]>{({}<>)}\n" +
            "[{[<<<{(<[<({({}<>)}{{()<>}([]())})<(<()<>>[[][]]){<<>()>}]>]{(<[{(){}}<<>{}>]{{{}[]}<(){}>}>{[([][]\n" +
            "(<{<[{<((([[{[{}[]][<>[]]]{[()()][{}{}]}]([<()[]>{<>{}}])])[(<{[<><>]{<>{}}}><<([][])>>){[{({}<>)<{}\n" +
            "{({[<[([{[[[[([]()){{}<>}][<{}[]>{{}[]}]]([{{}{}}{{}[]}]<([]<>)>)]<([<[]()><(){}>](<()<>>(<>{})))>]\n" +
            "{{{<<({(<[[{{[<>{}]}<({}<>)<[][]>>}(<{()()}[()<>]><{{}[]}[{}[]}>)](<{{<>()}<[][]>}>)][<(<<<>>([]())>)[{<<>()>\n" +
            "[([[{[(({(<[{(<><>){{}<>}}{(<>[]){[][]}}]{(({}[]])(<[]{}>({}[]))}>[(<{<><>}{<>()}>[({}())<[][]>])[{<{}{}>\n" +
            "{({{[<<{<<[<{{[]{}}([])}>([(<>{}]<{}<>>][<<>[]>{<>}])]{<[{(){}}{[]{}}]<<()<>>[{}]>>([{()()}<{}<>>\n" +
            "{[{<[([<((([[(())[{}<>]]<<<>{}>{<>[]}>](([[]{}]{[]{}}){[()]})){<<[[]()][[]()]>(<<>{}>[()[]])><<<<>\n" +
            "<[([[<{{([([(<[][]>[(){}])((()[])(<>))][[[[]<>][{}()]][<[][]>{<>()}]])<[[<()()>(()())}[<[][]>[()()]]]{<{[]{}}\n" +
            "{(({(<{({[[({{<>()}[()()]}[{[]<>}[[]<>]])([({}{})<{}()>]((()<>){()()}))]][{<({{}()}(<><>))[<(){}><()[]>\n" +
            "[{[[([[<[<[(<<[][]>[<>[]]>{(<><>)<[]<>>}){((()())[()]){[<>{}]<{}[]>}}]><[[{(()[])<()<>>}][[<<><>>\n" +
            "[<({({<[[<[{{({}{})<<><>>}<{()[]}{[]<>}>}[[{()()}]<[()()){{}()}>]][[<[<>()][{}[]]>{[{}<>](<>{})}]{{(<>())(<\n" +
            "(<(((({[[<<{<{()()}<<>[]>>}[([[]{}]<<>()>)]><[<[{}[]]{{}{}}>{<<>{}>{{}()}}]>>({({<(){}>({})}([()<>]{<><>}\n" +
            "<{({<<(([<({[{[]()]]<[<>()]<<>{}>>})((<<[]<>>(<>{})>)[[[<>{}]([][])](({}{})<[]{}>)])>](<[({{()()}([]\n" +
            "<[({[{[[[[[<[[<>()}([])]([()()]<<><>>)>[{{<>{}}[()]}{{<>[]}<<>{}>}]]{[<{()<>}([]<>)>({{}[]}<()[]>)]}]<\n" +
            "[(({(<((({{[((()[]){(){}})([[]{}][{}()])]}<{{(<>()){[]()}}<([]())[()<>]>}<<(<><>)([][])>[{()[]}<<>[]>]>>}[{\n" +
            "{([<{({[<{{{[[[]<>]]}(<([]<>)<<>{}>>({{}<>}(<><>)))}}>][{[<[{([]<>){<>{}}}(([][]){[][]})]>(({(<>{}){{}[]}}\n" +
            "(<[([<{<(<([[{()<>}][{{}<>}(()())]]<([[]()]{[]<>})>)>[<<<<()<>>(()())>{{()<>}<<>{}>}><((<><>))>>({{{[\n" +
            "<{([<[[{<<((<{{}()}<()()>>[<<>[]>{<>()}]]){({[{}](()<>)}<(()[])<()[]>>)[[[{}[]]({}[])]{{[][]}({}[]\n" +
            "{{([[<(((([(([{}()][{}<>])<([]())>)[[[{}[]]([]{})]]]([[(()<>){<>[]}][[[]{}}<()[]>]]{[{{}[]}{";

    public static void main(String[] args) {
        int corruptedPoints = SyntaxParser.parseAndCalculatePoints(PUZZLE_INPUT);
        long incompletePoints = IncompleteParser.parseAndCalculatePoints(PUZZLE_INPUT);

        System.out.println("The result of the corrupted input is: " + corruptedPoints);
        System.out.println("The result of the incomplete input is: " + incompletePoints);
    }
}
